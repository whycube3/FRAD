webpackJsonp([2],{"3Wxn":function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n("YB0Q"),o=n("H7xL"),r=n("EjQ9"),s=n("KoCy"),a=this&&this.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},c=i.a(),u=function(t){return function(){var e=a({},t.$props.init,{selector:"#"+t.elementId,plugins:Object(r.c)(t.$props.init&&t.$props.init.plugins,t.$props.plugins),toolbar:t.$props.toolbar||t.$props.init&&t.$props.init.toolbar,inline:t.inlineEditor,setup:function(e){t.editor=e,e.on("init",function(n){return Object(r.a)(n,t,e)}),t.$props.init&&"function"==typeof t.$props.init.setup&&t.$props.init.setup(e)}});Object(r.b)(t.element)&&(t.element.style.visibility=""),Object(o.a)().init(e)}},l={props:s.a,created:function(){this.elementId=this.$props.id||Object(r.d)("tiny-vue"),this.inlineEditor=this.$props.init&&this.$props.init.inline||this.$props.inline},mounted:function(){if(this.element=this.$el,null!==Object(o.a)())u(this)();else if(this.element){var t=this.element.ownerDocument,e="https://cloud.tinymce.com/"+(this.$props.cloudChannel?this.$props.cloudChannel:"stable")+"/tinymce.min.js?apiKey="+(this.$props.apiKey?this.$props.apiKey:"");i.b(c,t,e,u(this))}},beforeDestroy:function(){null!==Object(o.a)()&&Object(o.a)().remove(this.editor)},render:function(t){return this.inlineEditor?function(t,e,n){return t(n||"div",{attrs:{id:e}})}(t,this.elementId,this.$props.tagName):function(t,e){return t("textarea",{attrs:{id:e},style:{visibility:"hidden"}})}(t,this.elementId)}}},"7q+i":function(t,e,n){var i=n("CGth");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n("rjj0")("0170dd7d",i,!1,{sourceMap:!1})},"9LlT":function(t,e,n){"use strict";e.a={BASE_URL:"https://file-repo.herokuapp.com",TINYMCE_STYLE:"body {padding: 3em;}, p{padding: 0 !important;}",API_SIGNATURE:"/api/v1/files/signature",API_IMAGE:"/api/v1/files/image",API_PROFILE:"/api/v1/files/profile",API_DOCUMENT:"/api/v1/files/document",API_PRESENTATION:"/api/v1/files/presentation",API_SPREADSHEET:"/api/v1/files/spreadsheet",API_PDF:"/api/v1/files/pdf",BUCKET_IMAGE:"image",BUCKET_PROFILE:"profile",BUCKET_SIGNATURE:"signature",BUCKET_PRESENTATION:"presentation",BUCKET_SPREADSHEET:"spreadsheet",BUCKET_DOCUMENT:"document",BUCKET_PDF:"pdf"}},CGth:function(t,e,n){(t.exports=n("FZ+f")(!1)).push([t.i,"",""])},EjQ9:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"d",function(){return a}),n.d(e,"b",function(){return c}),n.d(e,"c",function(){return l});var i=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],o=function(t){return-1!==i.indexOf(t)},r=function(t,e,n){var i=e.$props.value?e.$props.value:"",r=e.$props.initialValue?e.$props.initialValue:"";n.setContent(i||r),e.$listeners.input&&function(t,e){var n,i=t.$props.modelEvents?t.$props.modelEvents:null,o=Array.isArray(i)?i.join(" "):i;t.$watch("value",function(t,i){e&&"string"==typeof t&&t!==n&&t!==i&&(e.setContent(t),n=t)}),e.on(o||"change keyup undo redo",function(){n=e.getContent(),t.$emit("input",n)})}(e,n),function(t,e,n){Object.keys(e).filter(o).forEach(function(i){var o=e[i];"function"==typeof o&&("onInit"===i?o(t,n):n.on(i.substring(2),function(t){return o(t,n)}))})}(t,e.$listeners,n)},s=0,a=function(t){var e=(new Date).getTime();return t+"_"+Math.floor(1e9*Math.random())+ ++s+String(e)},c=function(t){return null!==t&&"textarea"===t.tagName.toLowerCase()},u=function(t){return void 0===t||""===t?[]:Array.isArray(t)?t:t.split(" ")},l=function(t,e){return u(t).concat(u(e))}},H7xL:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return o});var i=function(){return"undefined"!=typeof window?window:t},o=function(){var t=i();return t&&t.tinymce?t.tinymce:null}}).call(e,n("DuR2"))},KoCy:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],value:String}},Kzai:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("Vlfq"),o=n("f5KL"),r=n("VU/8")(i.a,o.a,!1,null,null,null);r.options.__file="pages/dashboard/efile/update.vue",e.default=r.exports},Vlfq:function(t,e,n){"use strict";var i=n("mvHQ"),o=n.n(i),r=n("woOf"),s=n.n(r),a=n("q47d"),c=n("mtWM"),u=n.n(c),l=n("9LlT"),d=n("cON/");e.a={components:{TinyMce:a.a,loader:d.a},created:function(){null===localStorage.getItem("token")&&this.$router.push("/"),this.tinymce={height:500,content_style:l.a.TINYMCE_STYLE,theme:"modern",plugins:"print fullpage"}},mounted:function(){var t=this,e=this.$route.query.id,n={method:"GET",url:l.a.BASE_URL+"/api/v1/efiles/"+e,headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.$store.state.user_details.token}};void 0===e|null===e?this.$router.push("/dashboard/efile/view/idParameterNeeded"):u()(n).then(function(e){null===e.data.rejection_reason?(t.tinymce={height:500,readonly:1,content_style:l.a.TINYMCE_STYLE,theme:"modern",plugins:"print fullpage"},t.isUpdatedButtonShown=!1,setTimeout(function(){return t.toggleLoader()},3e3),t.$notify(t.showNotif("error","Server Warning","fa-exclamation-triangle","cannot edit this efile!"))):(t.efileDetails=e.data,t.content=unescape(e.data.content),setTimeout(function(){return t.toggleLoader()},3e3))}).catch(function(e){t.$notify(t.showNotif("error","Server Warning","fa-exclamation-triangle",e.response.data.message)),t.toggleLoader()})},data:function(){return{isLoaderActive:!0,content:"",isUpdatedButtonShown:!0,efileDetails:{},tinymce:{}}},methods:{showNotif:function(t,e,n,i){return{type:t,group:"vnotif",title:"<span ><span class='fas "+n+" fa-2x'></span><span class='title is-5'> "+e+":</span></span>",text:"<p class='subtitle is-5'>"+i+"</p>"}},toggleLoader:function(){this.isLoaderActive=!this.isLoaderActive},updateEfile:function(){var t=this;this.toggleLoader();var e=this.$route.query.id,n={content:escape(this.content),rejection_reason:null,rejected_recipient:null},i=s()(this.efileDetails,n),r={method:"PUT",url:l.a.BASE_URL+"/api/v1/efiles/"+e,data:o()(i),headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.$store.state.user_details.token}};u()(r).then(function(e){t.toggleLoader(),t.$notify(t.showNotif("success","Success","fa-check-circle","Efile succesfully updated.")),t.isUpdatedButtonShown=!1}).catch(function(e){t.toggleLoader(),t.$notify(t.showNotif("error","Server Warning","fa-exclamation-triangle",e.response.data.errors))})}}}},YB0Q:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return r});var i=n("EjQ9"),o=function(){return{listeners:[],scriptId:Object(i.d)("tiny-script"),scriptLoaded:!1}},r=function(t,e,n,i){t.scriptLoaded?i():(t.listeners.push(i),e.getElementById(t.scriptId)||function(t,e,n,i){var o=e.createElement("script");o.type="application/javascript",o.id=t,o.addEventListener("load",i),o.src=n,e.head.appendChild(o)}(t.scriptId,e,n,function(){t.listeners.forEach(function(t){return t()}),t.scriptLoaded=!0}))}},"cON/":function(t,e,n){"use strict";var i=n("e0da"),o=n("vnwn"),r=!1;var s=function(t){r||n("7q+i")},a=n("VU/8")(i.a,o.a,!1,s,"data-v-3f9bef8e",null);a.options.__file="components/loader.vue",e.a=a.exports},e0da:function(t,e,n){"use strict";e.a={props:{isActive:Boolean}}},f5KL:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("loader",{attrs:{isActive:this.isLoaderActive}}),n("section",{staticClass:"section"},[n("TinyMce",{attrs:{init:t.tinymce},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}}),n("br")],1),n("div",{staticClass:"section",staticStyle:{"padding-top":"0px !important"}},[!0===this.isUpdatedButtonShown?n("button",{staticClass:"button is-danger is-pulled-right",on:{click:t.updateEfile}},[t._v("Update")]):t._e()])],1)};i._withStripped=!0;var o={render:i,staticRenderFns:[]};e.a=o},q47d:function(t,e,n){"use strict";var i=n("3Wxn");e.a=i.a},vnwn:function(t,e,n){"use strict";var i=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal",class:{"is-active":this.isActive}},[e("div",{staticClass:"modal-background"}),this._m(0)])};i._withStripped=!0;var o={render:i,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-content",staticStyle:{overflow:"hidden"}},[e("div",{attrs:{id:"cssSpiner"}})])}]};e.a=o}});